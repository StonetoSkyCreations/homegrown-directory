---
layout: null
permalink: /search.json
---
[
{% assign all = site.farms | concat: site.markets | concat: site.stores | concat: site.restaurants | concat: site.distributors %}
{% for doc in all %}
  {
    "id": "{{ doc.id | default: doc.slug | slugify }}",
    "title": {{ doc.title | default: doc.name | jsonify }},
    "name": {{ doc.name | default: doc.title | jsonify }},
    "collection": "{{ doc.collection }}",
    "type": "{{ doc.collection | capitalize }}",
    "slug": "{{ doc.slug }}",
    "url": "{{ doc.url | relative_url }}",
    "country": {{ doc.country | jsonify }},
    "country_slug": {{ doc.country_slug | jsonify }},
    "region": {{ doc.region | jsonify }},
    "city": {{ doc.city | jsonify }},
    "practices": {{ doc.practices | jsonify }},
    "products": {{ doc.products | jsonify }},
    "services": {{ doc.services | jsonify }},
    "supplies_to": {{ doc.supplies_to | jsonify }},
    "sources": {{ doc.sources | jsonify }},
    "hours": {{ doc.hours | jsonify }},
    "lat": {{ doc.lat | jsonify }},
    "lon": {{ doc.lon | jsonify }},
    "description": {{ doc.description | default: doc.excerpt | strip_html | strip_newlines | jsonify }}
  }{% unless forloop.last %},{% endunless %}
{% endfor %}
]
